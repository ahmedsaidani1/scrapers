services:
  - type: cron
    name: powerbi-sanundo
    env: python
    schedule: "0 2 * * 0"
    buildCommand: pip install -r requirements.txt
    startCommand: python run_production_powerbi.py
    envVars:
      - key: GOOGLE_APPLICATION_CREDENTIALS_JSON
        sync: false
      - key: SCRAPER_FILTER
        value: sanundo
      - key: POWERBI_WORKSHEET_NAME
        value: sanundo
      - key: PIPELINE_BATCH_SIZE
        value: "1"
      - key: SCRAPER_WORKERS
        value: "6"
      - key: SHEETS_BATCH_SIZE
        value: "1200"

  - type: cron
    name: powerbi-heima24
    env: python
    schedule: "20 2 * * 0"
    buildCommand: pip install -r requirements.txt
    startCommand: python run_production_powerbi.py
    envVars:
      - key: GOOGLE_APPLICATION_CREDENTIALS_JSON
        sync: false
      - key: SCRAPER_FILTER
        value: heima24
      - key: POWERBI_WORKSHEET_NAME
        value: heima24
      - key: PIPELINE_BATCH_SIZE
        value: "1"
      - key: SCRAPER_WORKERS
        value: "6"
      - key: SHEETS_BATCH_SIZE
        value: "1200"

  - type: cron
    name: powerbi-st-shop24
    env: python
    schedule: "40 2 * * 0"
    buildCommand: pip install -r requirements.txt
    startCommand: python run_production_powerbi.py
    envVars:
      - key: GOOGLE_APPLICATION_CREDENTIALS_JSON
        sync: false
      - key: SCRAPER_FILTER
        value: st_shop24
      - key: POWERBI_WORKSHEET_NAME
        value: st_shop24
      - key: PIPELINE_BATCH_SIZE
        value: "1"
      - key: SCRAPER_WORKERS
        value: "6"
      - key: SHEETS_BATCH_SIZE
        value: "1200"

  - type: cron
    name: powerbi-selfio
    env: python
    schedule: "0 3 * * 0"
    buildCommand: pip install -r requirements.txt
    startCommand: python run_production_powerbi.py
    envVars:
      - key: GOOGLE_APPLICATION_CREDENTIALS_JSON
        sync: false
      - key: SCRAPER_FILTER
        value: selfio
      - key: POWERBI_WORKSHEET_NAME
        value: selfio
      - key: PIPELINE_BATCH_SIZE
        value: "1"
      - key: SCRAPER_WORKERS
        value: "6"
      - key: SHEETS_BATCH_SIZE
        value: "1200"

  - type: cron
    name: powerbi-heizungsdiscount24
    env: python
    schedule: "20 3 * * 0"
    buildCommand: pip install -r requirements.txt
    startCommand: python run_production_powerbi.py
    envVars:
      - key: GOOGLE_APPLICATION_CREDENTIALS_JSON
        sync: false
      - key: SCRAPER_FILTER
        value: heizungsdiscount24
      - key: POWERBI_WORKSHEET_NAME
        value: heizungsdiscount24
      - key: PIPELINE_BATCH_SIZE
        value: "1"
      - key: SCRAPER_WORKERS
        value: "5"
      - key: SHEETS_BATCH_SIZE
        value: "1200"

  - type: cron
    name: powerbi-meinhausshop
    env: python
    schedule: "40 3 * * 0"
    buildCommand: pip install -r requirements.txt
    startCommand: python run_production_powerbi.py
    envVars:
      - key: GOOGLE_APPLICATION_CREDENTIALS_JSON
        sync: false
      - key: SCRAPER_FILTER
        value: meinhausshop
      - key: POWERBI_WORKSHEET_NAME
        value: meinhausshop
      - key: PIPELINE_BATCH_SIZE
        value: "1"
      - key: SCRAPER_WORKERS
        value: "5"
      - key: SHEETS_BATCH_SIZE
        value: "1200"

  - type: cron
    name: powerbi-wolfonlineshop
    env: python
    schedule: "0 4 * * 0"
    buildCommand: pip install -r requirements.txt
    startCommand: python run_production_powerbi.py
    envVars:
      - key: GOOGLE_APPLICATION_CREDENTIALS_JSON
        sync: false
      - key: SCRAPER_FILTER
        value: wolfonlineshop
      - key: POWERBI_WORKSHEET_NAME
        value: wolfonlineshop
      - key: PIPELINE_BATCH_SIZE
        value: "1"
      - key: SCRAPER_WORKERS
        value: "5"
      - key: SHEETS_BATCH_SIZE
        value: "1200"

  - type: cron
    name: powerbi-pumpe24
    env: python
    schedule: "20 4 * * 0"
    buildCommand: pip install -r requirements.txt
    startCommand: python run_production_powerbi.py
    envVars:
      - key: GOOGLE_APPLICATION_CREDENTIALS_JSON
        sync: false
      - key: PUMPE24_PROXY
        sync: false
      - key: SCRAPER_FILTER
        value: pumpe24
      - key: POWERBI_WORKSHEET_NAME
        value: pumpe24
      - key: PIPELINE_BATCH_SIZE
        value: "1"
      - key: SCRAPER_WORKERS
        value: "5"
      - key: SHEETS_BATCH_SIZE
        value: "1200"

  - type: cron
    name: powerbi-pumpenheizung
    env: python
    schedule: "0 5 * * 0"
    buildCommand: pip install -r requirements.txt
    startCommand: python run_production_powerbi.py
    envVars:
      - key: GOOGLE_APPLICATION_CREDENTIALS_JSON
        sync: false
      - key: SCRAPER_FILTER
        value: pumpenheizung
      - key: POWERBI_WORKSHEET_NAME
        value: pumpenheizung
      - key: PIPELINE_BATCH_SIZE
        value: "1"
      - key: SCRAPER_WORKERS
        value: "1"
      - key: SHEETS_BATCH_SIZE
        value: "800"

  - type: cron
    name: powerbi-wasserpumpe
    env: python
    schedule: "0 7 * * 0"
    buildCommand: pip install -r requirements.txt
    startCommand: python run_production_powerbi.py
    envVars:
      - key: GOOGLE_APPLICATION_CREDENTIALS_JSON
        sync: false
      - key: SCRAPER_FILTER
        value: wasserpumpe
      - key: POWERBI_WORKSHEET_NAME
        value: wasserpumpe
      - key: PIPELINE_BATCH_SIZE
        value: "1"
      - key: SCRAPER_WORKERS
        value: "1"
      - key: SHEETS_BATCH_SIZE
        value: "800"
